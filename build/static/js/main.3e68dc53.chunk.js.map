{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services.js","components/Notification/Notification.js","App.js","index.js"],"names":["Filter","_ref","searchName","handleSearchName","react_default","a","createElement","value","onChange","PersonForm","newName","newNumber","handleNewName","handleNewNumber","addPerson","onSubmit","type","Persons","personToShow","handlePersonDelete","map","person","key","id","name","number","onClick","baseUrl","services","Axios","get","addPersonObj","post","index","delete","updatePersonObj","put","concat","then","response","data","Notification","messageObj","console","log","message","error","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","setMessage","useEffect","personsFilter","filter","toLowerCase","includes","components_Notification_Notification","components_Filter","e","target","components_PersonForm","preventDefault","findPersonObj","find","window","confirm","updatePersons","toConsumableArray","objectSpread","components_Persons","statusText","newPersons","catch","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3e68dc53.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ searchName, handleSearchName }) => {\r\n    return (\r\n        <div>\r\n            Filter shown with: <input value={searchName} onChange={handleSearchName} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNewName, handleNewNumber, addPerson }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNewName} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNewNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ personToShow, handlePersonDelete }) => {\r\n    return personToShow.map(person => {\r\n        return (\r\n            <p key={person.id}>\r\n                {person.name} {person.number} <button onClick={() => handlePersonDelete(person.id)}>delete</button>\r\n            </p>\r\n        );\r\n    });\r\n};\r\n\r\nexport default Persons;\r\n","import Axios from \"axios\";\r\nconst baseUrl = \"/api/persons/\";\r\n\r\nconst getAll = () => {\r\n    return Axios.get(baseUrl);\r\n};\r\n\r\nconst create = addPersonObj => {\r\n    return Axios.post(baseUrl, addPersonObj);\r\n};\r\n\r\nconst deletePerson = index => {\r\n    return Axios.delete(baseUrl + \"/\" + index);\r\n};\r\n\r\nconst update = (index, updatePersonObj) => {\r\n    return Axios.put(`${baseUrl}/${index}`, updatePersonObj).then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, deletePerson, update };\r\n","import React from \"react\";\r\nimport \"./notification.css\";\r\n\r\nconst Notification = ({ messageObj }) => {\r\n    console.log();\r\n\r\n    const { message, error } = messageObj;\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"notification error\">{message}</div>;\r\n    }\r\n\r\n    return <div className=\"notification\">{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport services from \"./services\";\r\nimport Notification from \"./components/Notification/Notification\";\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState(\"\");\r\n    const [newNumber, setNewNumber] = useState(\"\");\r\n    const [searchName, setSearchName] = useState(\"\");\r\n    const [message, setMessage] = useState({ message: null, error: false });\r\n\r\n    useEffect(() => {\r\n        services.getAll().then(response => {\r\n            // console.log(response);\r\n\r\n            setPersons(response.data);\r\n        });\r\n    }, []);\r\n\r\n    const personsFilter = persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()));\r\n\r\n    const handleNewName = e => {\r\n        setNewName(e.target.value);\r\n    };\r\n    const handleNewNumber = e => {\r\n        setNewNumber(e.target.value);\r\n    };\r\n    const handleSearchName = e => {\r\n        setSearchName(e.target.value);\r\n    };\r\n\r\n    const handlePersonDelete = index => {\r\n        // console.log(index);\r\n        const findPersonObj = persons.find(person => (person.id === index ? person : null));\r\n        if (!window.confirm(`Delete ${findPersonObj.name}`)) {\r\n            return;\r\n        }\r\n        services\r\n            .deletePerson(index)\r\n            .then(response => {\r\n                if (response.statusText === \"OK\") {\r\n                    const newPersons = persons.filter(person => person.id !== index);\r\n                    setPersons(newPersons);\r\n                    setMessage({ ...message, message: `Delete ${findPersonObj.name} succeeded` });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                setMessage({\r\n                    message: `Information of ${findPersonObj.name} was already deleted from server`,\r\n                    error: true\r\n                });\r\n                const newPersons = persons.filter(person => person.id !== index);\r\n                setPersons(newPersons);\r\n            });\r\n    };\r\n\r\n    const addPerson = e => {\r\n        e.preventDefault();\r\n        const findPersonObj = persons.find(person => person.name === newName);\r\n        // console.log(findPersonObj);\r\n\r\n        if (findPersonObj) {\r\n            if (window.confirm(`${newName} is already added to phonebook,replace the old number with a new one?`)) {\r\n                findPersonObj.number = newNumber;\r\n                services.update(findPersonObj.id, findPersonObj);\r\n                const updatePersons = persons.map(person => (person.id === findPersonObj.id ? findPersonObj : person));\r\n                setPersons(updatePersons);\r\n                setMessage(`Number is change for ${newName}`);\r\n            }\r\n            return;\r\n        }\r\n        const addPersonObj = { name: newName, number: newNumber };\r\n\r\n        services.create(addPersonObj).then(response => {\r\n            // console.log(response);\r\n            setPersons([...persons, response.data]);\r\n            setMessage({ ...message, message: `Added ${newName}` });\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification messageObj={message} />\r\n            <Filter searchName={searchName} handleSearchName={handleSearchName} />\r\n            <h2>Add a new</h2>\r\n            <PersonForm\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                handleNewName={handleNewName}\r\n                handleNewNumber={handleNewNumber}\r\n                addPerson={addPerson}\r\n            />\r\n            <h2>Numbers</h2>\r\n\r\n            <Persons personToShow={personsFilter} handlePersonDelete={handlePersonDelete} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}